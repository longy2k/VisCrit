{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/rukud/GitHub/CS410_northwestern/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/rukud/GitHub/CS410_northwestern/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/rukud/GitHub/CS410_northwestern/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import*as XLSX from'xlsx';import Hierarchy from\"./Dropdown_Gen\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function RubricBox(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),jsonData=_useState2[0],setData=_useState2[1];var handleFile=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var file,data,workbook,worksheet,jsonData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:file=e.target.files[0];_context.next=3;return file.arrayBuffer();case 3:data=_context.sent;workbook=XLSX.readFile(data);worksheet=workbook.Sheets[workbook.SheetNames[3]];jsonData=XLSX.utils.sheet_to_json(worksheet,{header:1,blankrows:false});setData(jsonData);case 8:case\"end\":return _context.stop();}},_callee);}));return function handleFile(_x){return _ref.apply(this,arguments);};}();var Hierarchies=[];var HierarchyMap=new Map();console.log(jsonData);for(var data in jsonData){if(data==0){continue;}if(HierarchyMap.has(jsonData[data][2])){HierarchyMap.get(jsonData[data][2]).addItem(jsonData[data]);}else{HierarchyMap.set(jsonData[data][2],new Hierarchy(jsonData[data],false));Hierarchies.push(HierarchyMap.get(jsonData[data][2]));}}console.log(Hierarchies);console.log(HierarchyMap.size);return/*#__PURE__*/_jsxs(\"div\",{className:\"component\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"category-items\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"Available Categories\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Comment\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Location\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:function onChange(e){return handleFile(e);}}),Hierarchies.map(function(item,i){return/*#__PURE__*/_jsx(\"div\",{children:item.returnHTML()},i);})]});}","map":{"version":3,"names":["React","useState","XLSX","Hierarchy","RubricBox","jsonData","setData","handleFile","e","file","target","files","arrayBuffer","data","workbook","readFile","worksheet","Sheets","SheetNames","utils","sheet_to_json","header","blankrows","Hierarchies","HierarchyMap","Map","console","log","has","get","addItem","set","push","size","map","item","i","returnHTML"],"sources":["C:/Users/rukud/GitHub/CS410_northwestern/client/src/components/RubricBox.js"],"sourcesContent":["import React, {useState} from \"react\"\r\nimport * as XLSX from 'xlsx';\r\nimport Hierarchy from \"./Dropdown_Gen\"\r\n\r\nexport default function RubricBox(){\r\n    const[jsonData, setData] = useState([]);\r\n    const handleFile = async(e) => {\r\n        const file = e.target.files[0];\r\n        const data = await file.arrayBuffer();\r\n        const workbook = XLSX.readFile(data);\r\n        const worksheet = workbook.Sheets[workbook.SheetNames[3]];\r\n        const jsonData = XLSX.utils.sheet_to_json(worksheet, {header: 1, blankrows:false})\r\n        setData(jsonData)\r\n    }\r\n\r\n    const Hierarchies= [];\r\n    const HierarchyMap = new Map();\r\n    console.log(jsonData);\r\n    for(let data in jsonData){\r\n        if(data == 0){\r\n            continue;\r\n        }\r\n        if(HierarchyMap.has(jsonData[data][2])){\r\n            HierarchyMap.get(jsonData[data][2]).addItem(jsonData[data]);\r\n        }\r\n        else{\r\n            HierarchyMap.set(jsonData[data][2], new Hierarchy(jsonData[data], false));\r\n            Hierarchies.push(HierarchyMap.get(jsonData[data][2]));\r\n        }\r\n    }\r\n    console.log(Hierarchies)\r\n    console.log(HierarchyMap.size)\r\n\r\n    return(\r\n        <div className=\"component\">\r\n            <ul className=\"category-items\">\r\n                <li>Available Categories</li>\r\n                <li>Comment</li>\r\n                <li>Location</li>\r\n            </ul>\r\n            <input type=\"file\" onChange={(e) => handleFile(e)}/>\r\n            {Hierarchies.map((item, i) =>\r\n            <div key={i}>{item.returnHTML()}</div>)}\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"+ZAAA,MAAOA,MAAK,EAAGC,QAAQ,KAAO,OAAO,CACrC,MAAO,GAAKC,KAAI,KAAM,MAAM,CAC5B,MAAOC,UAAS,KAAM,gBAAgB,yFAEtC,cAAe,SAASC,UAAS,EAAE,CAC/B,cAA2BH,QAAQ,CAAC,EAAE,CAAC,wCAAjCI,QAAQ,eAAEC,OAAO,eACvB,GAAMC,WAAU,4FAAG,iBAAMC,CAAC,6JAChBC,IAAI,CAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,uBACXF,KAAI,CAACG,WAAW,EAAE,QAA/BC,IAAI,eACJC,QAAQ,CAAGZ,IAAI,CAACa,QAAQ,CAACF,IAAI,CAAC,CAC9BG,SAAS,CAAGF,QAAQ,CAACG,MAAM,CAACH,QAAQ,CAACI,UAAU,CAAC,CAAC,CAAC,CAAC,CACnDb,QAAQ,CAAGH,IAAI,CAACiB,KAAK,CAACC,aAAa,CAACJ,SAAS,CAAE,CAACK,MAAM,CAAE,CAAC,CAAEC,SAAS,CAAC,KAAK,CAAC,CAAC,CAClFhB,OAAO,CAACD,QAAQ,CAAC,sDACpB,kBAPKE,WAAU,4CAOf,CAED,GAAMgB,YAAW,CAAE,EAAE,CACrB,GAAMC,aAAY,CAAG,GAAIC,IAAG,EAAE,CAC9BC,OAAO,CAACC,GAAG,CAACtB,QAAQ,CAAC,CACrB,IAAI,GAAIQ,KAAI,GAAIR,SAAQ,CAAC,CACrB,GAAGQ,IAAI,EAAI,CAAC,CAAC,CACT,SACJ,CACA,GAAGW,YAAY,CAACI,GAAG,CAACvB,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CACnCW,YAAY,CAACK,GAAG,CAACxB,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAACiB,OAAO,CAACzB,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAC/D,CAAC,IACG,CACAW,YAAY,CAACO,GAAG,CAAC1B,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAAC,CAAC,CAAE,GAAIV,UAAS,CAACE,QAAQ,CAACQ,IAAI,CAAC,CAAE,KAAK,CAAC,CAAC,CACzEU,WAAW,CAACS,IAAI,CAACR,YAAY,CAACK,GAAG,CAACxB,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CACzD,CACJ,CACAa,OAAO,CAACC,GAAG,CAACJ,WAAW,CAAC,CACxBG,OAAO,CAACC,GAAG,CAACH,YAAY,CAACS,IAAI,CAAC,CAE9B,mBACI,aAAK,SAAS,CAAC,WAAW,wBACtB,YAAI,SAAS,CAAC,gBAAgB,wBAC1B,oBAAI,sBAAoB,EAAK,cAC7B,oBAAI,SAAO,EAAK,cAChB,oBAAI,UAAQ,EAAK,GAChB,cACL,cAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAE,kBAACzB,CAAC,QAAKD,WAAU,CAACC,CAAC,CAAC,EAAC,EAAE,CACnDe,WAAW,CAACW,GAAG,CAAC,SAACC,IAAI,CAAEC,CAAC,qBACzB,qBAAcD,IAAI,CAACE,UAAU,EAAE,EAArBD,CAAC,CAA2B,GAAC,GACrC,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}