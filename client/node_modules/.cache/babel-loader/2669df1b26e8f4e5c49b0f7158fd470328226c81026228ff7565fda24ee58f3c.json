{"ast":null,"code":"import _regeneratorRuntime from\"/home/longy2k/Documents/playground/VisCrit/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/longy2k/Documents/playground/VisCrit/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/longy2k/Documents/playground/VisCrit/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import DocReader from\"./DocumentReader\";import Rubric from\"./RubricBox\";import Critque from\"./CritiqueBox\";import{ItemContext}from\"./ItemContext\";import*as XLSX from'xlsx';import Data_Extractor from\"./Data_Extract\";import\"../assets/css/UserPage.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function UserPage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),jsonData=_useState2[0],setData=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),currentItem=_useState4[0],setItem=_useState4[1];var handleFile=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var file,data,workbook,worksheet,jsonData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:file=e.target.files[0];_context.next=3;return file.arrayBuffer();case 3:data=_context.sent;workbook=XLSX.readFile(data);worksheet=workbook.Sheets[workbook.SheetNames[3]];jsonData=XLSX.utils.sheet_to_json(worksheet,{header:1,blankrows:false});setData(jsonData);case 8:case\"end\":return _context.stop();}},_callee);}));return function handleFile(_x){return _ref.apply(this,arguments);};}();var Hierarchy=Data_Extractor(jsonData);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:function onChange(e){return handleFile(e);}}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){console.log(Hierarchy);},children:\"Test\"}),/*#__PURE__*/_jsx(\"div\",{className:\"userPage\",children:/*#__PURE__*/_jsxs(ItemContext.Provider,{value:{currentItem:currentItem,setItem:setItem,Hierarchy:Hierarchy},children:[/*#__PURE__*/_jsx(DocReader,{}),/*#__PURE__*/_jsx(Rubric,{})]})})]});}","map":{"version":3,"names":["React","useState","DocReader","Rubric","Critque","ItemContext","XLSX","Data_Extractor","jsx","_jsx","jsxs","_jsxs","UserPage","_useState","_useState2","_slicedToArray","jsonData","setData","_useState3","_useState4","currentItem","setItem","handleFile","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","file","data","workbook","worksheet","wrap","_callee$","_context","prev","next","target","files","arrayBuffer","sent","readFile","Sheets","SheetNames","utils","sheet_to_json","header","blankrows","stop","_x","apply","arguments","Hierarchy","children","type","onChange","onClick","console","log","className","Provider","value"],"sources":["/home/longy2k/Documents/playground/VisCrit/client/src/userpage/UserPage.js"],"sourcesContent":["import React, {useState} from \"react\";\nimport DocReader from \"./DocumentReader\";\nimport Rubric from \"./RubricBox\";\nimport Critque from \"./CritiqueBox\";\nimport { ItemContext } from \"./ItemContext\";\nimport * as XLSX from 'xlsx';\nimport Data_Extractor from \"./Data_Extract\";\n\nimport \"../assets/css/UserPage.css\";\n\nexport default function UserPage() {\n    const[jsonData, setData] = useState([]);\n    const [currentItem, setItem] = useState({});\n    const handleFile = async(e) => {\n        const file = e.target.files[0];\n        const data = await file.arrayBuffer();\n        const workbook = XLSX.readFile(data);\n        const worksheet = workbook.Sheets[workbook.SheetNames[3]];\n        const jsonData = XLSX.utils.sheet_to_json(worksheet, {header: 1, blankrows:false})\n        setData(jsonData)\n    }\n    const Hierarchy = Data_Extractor(jsonData);\n\n    return (\n        <div>\n            <input type=\"file\" onChange={(e) => handleFile(e)}/>\n            <button onClick={(e) => {console.log(Hierarchy)}}>Test</button>\n            <div className=\"userPage\" >\n                <ItemContext.Provider value={{currentItem, setItem, Hierarchy}}>\n                    <DocReader />\n                    <Rubric  />\n                </ItemContext.Provider>\n            </div>\n        </div>\n    )\n}\n"],"mappings":"qaAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,KAAO,OAAO,CACrC,MAAO,CAAAC,SAAS,KAAM,kBAAkB,CACxC,MAAO,CAAAC,MAAM,KAAM,aAAa,CAChC,MAAO,CAAAC,OAAO,KAAM,eAAe,CACnC,OAASC,WAAW,KAAQ,eAAe,CAC3C,MAAO,GAAK,CAAAC,IAAI,KAAM,MAAM,CAC5B,MAAO,CAAAC,cAAc,KAAM,gBAAgB,CAE3C,MAAO,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpC,cAAe,SAAS,CAAAC,QAAQA,CAAA,CAAG,CAC/B,IAAAC,SAAA,CAA2BZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,QAAQ,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACvB,IAAAI,UAAA,CAA+BjB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAkB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAApCE,WAAW,CAAAD,UAAA,IAAEE,OAAO,CAAAF,UAAA,IAC3B,GAAM,CAAAG,UAAU,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAMC,CAAC,MAAAC,IAAA,CAAAC,IAAA,CAAAC,QAAA,CAAAC,SAAA,CAAAhB,QAAA,QAAAS,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAChBR,IAAI,CAAGD,CAAC,CAACU,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAAJ,QAAA,CAAAE,IAAA,SACX,CAAAR,IAAI,CAACW,WAAW,EAAE,QAA/BV,IAAI,CAAAK,QAAA,CAAAM,IAAA,CACJV,QAAQ,CAAGzB,IAAI,CAACoC,QAAQ,CAACZ,IAAI,CAAC,CAC9BE,SAAS,CAAGD,QAAQ,CAACY,MAAM,CAACZ,QAAQ,CAACa,UAAU,CAAC,CAAC,CAAC,CAAC,CACnD5B,QAAQ,CAAGV,IAAI,CAACuC,KAAK,CAACC,aAAa,CAACd,SAAS,CAAE,CAACe,MAAM,CAAE,CAAC,CAAEC,SAAS,CAAC,KAAK,CAAC,CAAC,CAClF/B,OAAO,CAACD,QAAQ,CAAC,yBAAAmB,QAAA,CAAAc,IAAA,MAAAtB,OAAA,GACpB,kBAPK,CAAAL,UAAUA,CAAA4B,EAAA,SAAA3B,IAAA,CAAA4B,KAAA,MAAAC,SAAA,OAOf,CACD,GAAM,CAAAC,SAAS,CAAG9C,cAAc,CAACS,QAAQ,CAAC,CAE1C,mBACIL,KAAA,QAAA2C,QAAA,eACI7C,IAAA,UAAO8C,IAAI,CAAC,MAAM,CAACC,QAAQ,CAAE,SAAAA,SAAC5B,CAAC,QAAK,CAAAN,UAAU,CAACM,CAAC,CAAC,EAAC,EAAE,cACpDnB,IAAA,WAAQgD,OAAO,CAAE,SAAAA,QAAC7B,CAAC,CAAK,CAAC8B,OAAO,CAACC,GAAG,CAACN,SAAS,CAAC,EAAE,CAAAC,QAAA,CAAC,MAAI,EAAS,cAC/D7C,IAAA,QAAKmD,SAAS,CAAC,UAAU,CAAAN,QAAA,cACrB3C,KAAA,CAACN,WAAW,CAACwD,QAAQ,EAACC,KAAK,CAAE,CAAC1C,WAAW,CAAXA,WAAW,CAAEC,OAAO,CAAPA,OAAO,CAAEgC,SAAS,CAATA,SAAS,CAAE,CAAAC,QAAA,eAC3D7C,IAAA,CAACP,SAAS,IAAG,cACbO,IAAA,CAACN,MAAM,IAAI,GACQ,EACrB,GACJ,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}