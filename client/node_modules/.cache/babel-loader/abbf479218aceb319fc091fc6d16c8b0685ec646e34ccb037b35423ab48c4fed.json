{"ast":null,"code":"import React from \"react\";\nimport * as markerjs2 from \"markerjs2\";\n\n/* \r\nwhen uploading img, that img should be passed here\r\n*/\n\nwindow.showSampleState = true;\nwindow.sampleState = {\n  width: 1296,\n  height: 1274,\n  markers: [{\n    fillColor: \"#FFFFFF\",\n    strokeColor: \"transparent\",\n    strokeWidth: 0,\n    strokeDasharray: \"\",\n    opacity: 1,\n    left: 144.625,\n    top: -14.0625,\n    width: 1010.1484375,\n    height: 214.15234375,\n    rotationAngle: 0,\n    visualTransformMatrix: {\n      a: 1,\n      b: 0,\n      c: 0,\n      d: 1,\n      e: 0,\n      f: 0\n    },\n    containerTransformMatrix: {\n      a: 1,\n      b: 0,\n      c: 0,\n      d: 1,\n      e: 0,\n      f: 0\n    },\n    typeName: \"CoverMarker\",\n    state: \"select\"\n  }, {\n    color: \"#000000\",\n    fontFamily: \"Helvetica, Arial, sans-serif\",\n    padding: 5,\n    text: \"Easily open and close\",\n    left: 148.72265625,\n    top: -0.80078125,\n    width: 997.77734375,\n    height: 114.12890625,\n    rotationAngle: 0,\n    visualTransformMatrix: {\n      a: 1,\n      b: 0,\n      c: 0,\n      d: 1,\n      e: 0,\n      f: 0\n    },\n    containerTransformMatrix: {\n      a: 1,\n      b: 0,\n      c: 0,\n      d: 1,\n      e: 0,\n      f: 0\n    },\n    typeName: \"TextMarker\",\n    state: \"select\"\n  }, {\n    color: \"#000000\",\n    fontFamily: \"Helvetica, Arial, sans-serif\",\n    padding: 5,\n    text: \"the camera shutter (click me)\",\n    left: 150.98046875,\n    top: 76.98828125,\n    width: 998.96484375,\n    height: 117.80078125,\n    rotationAngle: 0,\n    visualTransformMatrix: {\n      a: 1,\n      b: 0,\n      c: 0,\n      d: 1,\n      e: 0,\n      f: 0\n    },\n    containerTransformMatrix: {\n      a: 1,\n      b: 0,\n      c: 0,\n      d: 1,\n      e: 0,\n      f: 0\n    },\n    typeName: \"TextMarker\",\n    state: \"select\"\n  }]\n};\nfunction showMarkerArea(target) {\n  const markerArea = new markerjs2.MarkerArea(target);\n  markerArea.availableMarkerTypes = markerArea.ALL_MARKER_TYPES;\n  markerArea.settings.defaultStrokeWidths = [1, 3, 5, 10, 15];\n  markerArea.settings.defaultStrokeWidth = 5;\n  markerArea.settings.defaultStrokeDasharrays = [\"\", \"3\", \"6 3\", \"12 3\"];\n  markerArea.settings.defaultColor = \"#000000\";\n  markerArea.settings.defaultColorSet = [\"#EF4444\",\n  // red\n  \"#10B981\",\n  // green\n  \"#2563EB\",\n  // blue\n  \"#FFFF00\",\n  // yellow\n  \"#7C3AED\",\n  // purple\n  \"#F472B6\",\n  // pink\n  \"#000000\",\n  // black\n  \"#FFFFFF\" //white\n  ];\n\n  markerArea.settings.defaultColorsFollowCurrentColors = true;\n  markerArea.settings.defaultColorsFollowCurrentColors = true;\n  markerArea.addEventListener(\"render\", event => {\n    target.src = event.dataUrl;\n    fetch(target.src).then(response => response.blob()).then(blob => {\n      const link = document.createElement(\"a\");\n      link.href = URL.createObjectURL(blob);\n      link.download = `markup_${window.filename}`;\n      link.click();\n    }).catch(console.error);\n    window.showSampleState = false;\n  });\n  markerArea.show();\n  if (window.showSampleState) {\n    markerArea.restoreState(window.sampleState);\n  }\n}\nconst image = document.getElementById(\"targetImage\");\nimage.onload = function () {\n  showMarkerArea(image);\n};\nimage.src = \"img/sample.jpg\";\nwindow.filename = \"sample.jpg\";\nconst target = window[\"image-input\"];\ntarget.onchange = evt => {\n  const [file] = target.files;\n  if (file) {\n    debugger;\n    window.filename = file.name;\n    window.showSampleState = false;\n    image.src = URL.createObjectURL(file);\n    showMarkerArea(image);\n  }\n};\ntarget.removeAttribute(\"disabled\");","map":{"version":3,"names":["React","markerjs2","window","showSampleState","sampleState","width","height","markers","fillColor","strokeColor","strokeWidth","strokeDasharray","opacity","left","top","rotationAngle","visualTransformMatrix","a","b","c","d","e","f","containerTransformMatrix","typeName","state","color","fontFamily","padding","text","showMarkerArea","target","markerArea","MarkerArea","availableMarkerTypes","ALL_MARKER_TYPES","settings","defaultStrokeWidths","defaultStrokeWidth","defaultStrokeDasharrays","defaultColor","defaultColorSet","defaultColorsFollowCurrentColors","addEventListener","event","src","dataUrl","fetch","then","response","blob","link","document","createElement","href","URL","createObjectURL","download","filename","click","catch","console","error","show","restoreState","image","getElementById","onload","onchange","evt","file","files","name","removeAttribute"],"sources":["C:/Users/Pete/Desktop/CS410_northwestern/client/src/components/EditFile.js"],"sourcesContent":["import React from \"react\";\r\nimport * as markerjs2 from \"markerjs2\";\r\n\r\n/* \r\nwhen uploading img, that img should be passed here\r\n*/\r\n\r\n\r\nwindow.showSampleState = true;\r\nwindow.sampleState = {\r\n  width: 1296,\r\n  height: 1274,\r\n  markers: [\r\n    {\r\n      fillColor: \"#FFFFFF\",\r\n      strokeColor: \"transparent\",\r\n      strokeWidth: 0,\r\n      strokeDasharray: \"\",\r\n      opacity: 1,\r\n      left: 144.625,\r\n      top: -14.0625,\r\n      width: 1010.1484375,\r\n      height: 214.15234375,\r\n      rotationAngle: 0,\r\n      visualTransformMatrix: {\r\n        a: 1,\r\n        b: 0,\r\n        c: 0,\r\n        d: 1,\r\n        e: 0,\r\n        f: 0\r\n      },\r\n      containerTransformMatrix: {\r\n        a: 1,\r\n        b: 0,\r\n        c: 0,\r\n        d: 1,\r\n        e: 0,\r\n        f: 0\r\n      },\r\n      typeName: \"CoverMarker\",\r\n      state: \"select\"\r\n    },\r\n    {\r\n      color: \"#000000\",\r\n      fontFamily: \"Helvetica, Arial, sans-serif\",\r\n      padding: 5,\r\n      text: \"Easily open and close\",\r\n      left: 148.72265625,\r\n      top: -0.80078125,\r\n      width: 997.77734375,\r\n      height: 114.12890625,\r\n      rotationAngle: 0,\r\n      visualTransformMatrix: {\r\n        a: 1,\r\n        b: 0,\r\n        c: 0,\r\n        d: 1,\r\n        e: 0,\r\n        f: 0\r\n      },\r\n      containerTransformMatrix: {\r\n        a: 1,\r\n        b: 0,\r\n        c: 0,\r\n        d: 1,\r\n        e: 0,\r\n        f: 0\r\n      },\r\n      typeName: \"TextMarker\",\r\n      state: \"select\"\r\n    },\r\n    {\r\n      color: \"#000000\",\r\n      fontFamily: \"Helvetica, Arial, sans-serif\",\r\n      padding: 5,\r\n      text: \"the camera shutter (click me)\",\r\n      left: 150.98046875,\r\n      top: 76.98828125,\r\n      width: 998.96484375,\r\n      height: 117.80078125,\r\n      rotationAngle: 0,\r\n      visualTransformMatrix: {\r\n        a: 1,\r\n        b: 0,\r\n        c: 0,\r\n        d: 1,\r\n        e: 0,\r\n        f: 0\r\n      },\r\n      containerTransformMatrix: {\r\n        a: 1,\r\n        b: 0,\r\n        c: 0,\r\n        d: 1,\r\n        e: 0,\r\n        f: 0\r\n      },\r\n      typeName: \"TextMarker\",\r\n      state: \"select\"\r\n    }\r\n  ]\r\n};\r\n\r\nfunction showMarkerArea(target) {\r\n  const markerArea = new markerjs2.MarkerArea(target);\r\n  markerArea.availableMarkerTypes = markerArea.ALL_MARKER_TYPES;\r\n  markerArea.settings.defaultStrokeWidths = [1, 3, 5, 10, 15];\r\n  markerArea.settings.defaultStrokeWidth = 5;\r\n  markerArea.settings.defaultStrokeDasharrays = [\"\", \"3\", \"6 3\", \"12 3\"];\r\n  markerArea.settings.defaultColor = \"#000000\";\r\n  markerArea.settings.defaultColorSet = [\r\n    \"#EF4444\", // red\r\n    \"#10B981\", // green\r\n    \"#2563EB\", // blue\r\n    \"#FFFF00\", // yellow\r\n    \"#7C3AED\", // purple\r\n    \"#F472B6\", // pink\r\n    \"#000000\", // black\r\n    \"#FFFFFF\" //white\r\n  ];\r\n  markerArea.settings.defaultColorsFollowCurrentColors = true;\r\n  markerArea.settings.defaultColorsFollowCurrentColors = true;\r\n  markerArea.addEventListener(\"render\", (event) => {\r\n    target.src = event.dataUrl;\r\n    fetch(target.src)\r\n      .then((response) => response.blob())\r\n      .then((blob) => {\r\n        const link = document.createElement(\"a\");\r\n        link.href = URL.createObjectURL(blob);\r\n        link.download = `markup_${window.filename}`;\r\n        link.click();\r\n      })\r\n      .catch(console.error);\r\n    window.showSampleState = false;\r\n  });\r\n  markerArea.show();\r\n\r\n  if (window.showSampleState) {\r\n    markerArea.restoreState(window.sampleState);\r\n  }\r\n}\r\n\r\nconst image = document.getElementById(\"targetImage\");\r\n\r\nimage.onload = function () {\r\n  showMarkerArea(image);\r\n};\r\n\r\nimage.src = \"img/sample.jpg\";\r\nwindow.filename = \"sample.jpg\";\r\n\r\nconst target = window[\"image-input\"];\r\n\r\ntarget.onchange = (evt) => {\r\n  const [file] = target.files;\r\n  if (file) {\r\n    debugger;\r\n    window.filename = file.name;\r\n    window.showSampleState = false;\r\n    image.src = URL.createObjectURL(file);\r\n    showMarkerArea(image);\r\n  }\r\n};\r\n\r\ntarget.removeAttribute(\"disabled\");\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}